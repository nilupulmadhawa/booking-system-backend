{"version":3,"file":"auth.js","names":["register","asyncHandler","req","res","console","log","body","authRegister","result","makeResponse","status","message","login","authLogin","user","sendTokenResponse"],"sources":["../../src/controllers/auth.js"],"sourcesContent":["import asyncHandler from '../middleware/async'\r\nimport { authRegister, authLogin } from '../services/auth'\r\nimport { makeResponse } from '../utils/response'\r\nimport { sendTokenResponse } from '../utils/jwt'\r\n\r\nexport const register = asyncHandler(async (req, res) => {\r\n    try {\r\n        console.log(req.body);\r\n        const result = await authRegister(req.body)\r\n        if (!result) return makeResponse({ res, status: 500, message: 'Registration failed.' })\r\n        if (result.status) return makeResponse({ res, ...result })\r\n        return makeResponse({\r\n            res,\r\n            message: 'Registration Successfull.'\r\n        })\r\n    } catch (error) {\r\n        return makeResponse({ res, status: 500, message: error.message });\r\n    }\r\n})\r\n\r\nexport const login = asyncHandler(async (req, res) => {\r\n    try {\r\n        const user = await authLogin(req.body)\r\n        if (!user) return makeResponse({ res, status: 401, message: 'Invalid email or password' })\r\n        return sendTokenResponse(res, user, 'User logged in successfully')\r\n    } catch (error) {\r\n        return makeResponse({ res, status: 500, message: error.message });\r\n    }\r\n})\r\n\r\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AAAgD;AAAA,+CAFhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIO,IAAMA,QAAQ,GAAG,IAAAC,iBAAY;EAAA,sEAAC,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;UAE5CC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,IAAI,CAAC;UAAC;UAAA,OACD,IAAAC,kBAAY,EAACL,GAAG,CAACI,IAAI,CAAC;QAAA;UAArCE,MAAM;UAAA,IACPA,MAAM;YAAA;YAAA;UAAA;UAAA,iCAAS,IAAAC,sBAAY,EAAC;YAAEN,GAAG,EAAHA,GAAG;YAAEO,MAAM,EAAE,GAAG;YAAEC,OAAO,EAAE;UAAuB,CAAC,CAAC;QAAA;UAAA,KACnFH,MAAM,CAACE,MAAM;YAAA;YAAA;UAAA;UAAA,iCAAS,IAAAD,sBAAY;YAAGN,GAAG,EAAHA;UAAG,GAAKK,MAAM,EAAG;QAAA;UAAA,iCACnD,IAAAC,sBAAY,EAAC;YAChBN,GAAG,EAAHA,GAAG;YACHQ,OAAO,EAAE;UACb,CAAC,CAAC;QAAA;UAAA;UAAA;UAAA,iCAEK,IAAAF,sBAAY,EAAC;YAAEN,GAAG,EAAHA,GAAG;YAAEO,MAAM,EAAE,GAAG;YAAEC,OAAO,EAAE,YAAMA;UAAQ,CAAC,CAAC;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAExE;EAAA;IAAA;EAAA;AAAA,IAAC;AAAA;AAEK,IAAMC,KAAK,GAAG,IAAAX,iBAAY;EAAA,uEAAC,kBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;UAAA;UAAA,OAEtB,IAAAU,eAAS,EAACX,GAAG,CAACI,IAAI,CAAC;QAAA;UAAhCQ,IAAI;UAAA,IACLA,IAAI;YAAA;YAAA;UAAA;UAAA,kCAAS,IAAAL,sBAAY,EAAC;YAAEN,GAAG,EAAHA,GAAG;YAAEO,MAAM,EAAE,GAAG;YAAEC,OAAO,EAAE;UAA4B,CAAC,CAAC;QAAA;UAAA,kCACnF,IAAAI,sBAAiB,EAACZ,GAAG,EAAEW,IAAI,EAAE,6BAA6B,CAAC;QAAA;UAAA;UAAA;UAAA,kCAE3D,IAAAL,sBAAY,EAAC;YAAEN,GAAG,EAAHA,GAAG;YAAEO,MAAM,EAAE,GAAG;YAAEC,OAAO,EAAE,aAAMA;UAAQ,CAAC,CAAC;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAExE;EAAA;IAAA;EAAA;AAAA,IAAC;AAAA"}